<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      template="/WEB-INF/templates/Layout.xhtml">

    <h:form id="formUsuario">

        <p:messages closable="true" severity="info,warn,error">
            <p:autoUpdate/> 
        </p:messages>
        <h:panelGrid columns="2">
            <p:outputLabel for="usuario" value="Usuário: "/>
            <p:inputText id="usuario" size="30" required="true"/>

            <p:outputLabel for="email" value="E-mail " />
            <p:inputText id="email" size="30" placeholder="usuario@dominio" required="true"/>

            <p:outputLabel for="perfil" value="Perfil: " />
            <p:selectOneMenu id="perfil" style="width: 130px" required="true">
                <f:selectItem itemLabel="Selecione..." noSelectionOption="true"/>
            </p:selectOneMenu>

            <p:outputLabel for="senha" value="Senha: " />
            <p:password id="senha" size="20" feedback="true" goodLabel="Bom" strongLabel="Forte" weakLabel="Fraca" match="conferir-senha"
                        required="true" promptLabel="Informe a senha" validatorMessage="As senhas devem ser iguais"/>

            <p:outputLabel for="conferir-senha" value="Repita a senha: " />
            <p:password id="conferir-senha" size="20" required="true"/>

        </h:panelGrid>

        <p:toolbar id="toolbarUsuario" style="margin-top: 10px; margin-bottom: 20px">
            <f:facet name="left">
                <p:commandButton style="font-size: 13px;" value="Salvar"
                                 id="botaoSalvar" update="@form" icon="ui-icon ui-icon-disk"/>

                <p:button style="font-size: 13px;" value="Cancelar" outcome="/inicio"
                          id="botaoCancelarCadastroUsuarios" icon="ui-icon ui-icon-cancel">
                </p:button>
            </f:facet>
        </p:toolbar>

        <p:dataTable id="datatablePesquisaUsuario" var="usuario" 
                     paginatorAlwaysVisible="false" style="margin-top: 1px; " rows="10" reflow="true" 
                     paginatorPosition="bottom" emptyMessage="Nenhum registro encontrado" paginator="true" widgetVar="pesquisaUsuario"
                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} 
                     {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,20,50,100"
                     scrollable="true" scrollRows="10" scrollHeight="170">

            <f:facet name="header">
                <p:outputPanel id="panelFiltroUsuario">
                    <p:inputText id="globalFilter" onkeyup="PF('pesquisaUsuario').filter()" style="width:300px" placeholder="Pesquisar..."/>
                </p:outputPanel>
            </f:facet>

            <p:column headerText="Usuário" style="text-align: center" width="1.5%" filterMatchMode="exact" filterStyle="width: 20px; display:none">
            </p:column>

            <p:column headerText="Perfil" style="text-align: center" width="30" filterMatchMode="exact" filterStyle="width: 20px; display:none">
            </p:column>

            <p:column headerText="E-mail" style="text-align: center" width="30" filterMatchMode="exact" filterStyle="width: 20px; display:none">
            </p:column>

            <p:column id="acoes" headerText="Ações" style="text-align: center" width="30">
                <p:button id="botaoVisualizar" title="Visualizar" icon="ui-icon ui-icon-extlink" style="font-size: 10px">
                    <p:tooltip for="botaoVisualizar" value="Visualiza detalhes da linha selecionada"/>
                </p:button>   

                <p:button id="botaoEditar" title="Editar" icon="ui-icon ui-icon-pencil" style="font-size: 10px" >
                    <p:tooltip for="botaoEditar" value="Edita dados da linha selecionada"/>
                </p:button>

            </p:column>
        </p:dataTable>

        <p:blockUI block="formUsuario" trigger="botaoSalvar"/>
    </h:form> 
</html>    